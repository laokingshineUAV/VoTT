{"ast":null,"code":"import _regeneratorRuntime from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport { ToolbarItem } from \"./toolbarItem\";\nimport { toast } from \"react-toastify\";\n/**\n * @name - Export Project\n * @description - Toolbar item to export current project\n */\n\nexport var ExportProject =\n/*#__PURE__*/\nfunction (_ToolbarItem) {\n  _inherits(ExportProject, _ToolbarItem);\n\n  function ExportProject() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ExportProject);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ExportProject)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.onItemClick =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var infoId, results;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              infoId = toast.info(\"Started export for \".concat(_this.props.project.name, \"...\"), {\n                autoClose: false\n              });\n              _context.next = 3;\n              return _this.props.actions.exportProject(_this.props.project);\n\n            case 3:\n              results = _context.sent;\n              toast.dismiss(infoId);\n\n              if (!results || results && results.errors.length === 0) {\n                toast.success(\"Export completed successfully!\");\n              } else if (results && results.errors.length > 0) {\n                toast.warn(\"Successfully exported \".concat(results.completed.length, \"/\").concat(results.count, \" assets\"));\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  return ExportProject;\n}(ToolbarItem);","map":{"version":3,"sources":["/home/jw/Documents/code/VoTT/src/react/components/toolbar/exportProject.tsx"],"names":["ToolbarItem","toast","ExportProject","onItemClick","infoId","info","props","project","name","autoClose","actions","exportProject","results","dismiss","errors","length","success","warn","completed","count"],"mappings":";;;;;;AAAA,SAASA,WAAT,QAA4B,eAA5B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA;;;;;AAIA,WAAaC,aAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,UACcC,WADd;AAAA;AAAA;AAAA;AAAA,6BAC4B;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,cAAAA,MADc,GACLH,KAAK,CAACI,IAAN,8BAAiC,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAApD,UAA+D;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAA/D,CADK;AAAA;AAAA,qBAEE,MAAKH,KAAL,CAAWI,OAAX,CAAmBC,aAAnB,CAAiC,MAAKL,KAAL,CAAWC,OAA5C,CAFF;;AAAA;AAEdK,cAAAA,OAFc;AAIpBX,cAAAA,KAAK,CAACY,OAAN,CAAcT,MAAd;;AAEA,kBAAI,CAACQ,OAAD,IAAaA,OAAO,IAAIA,OAAO,CAACE,MAAR,CAAeC,MAAf,KAA0B,CAAtD,EAA0D;AACtDd,gBAAAA,KAAK,CAACe,OAAN;AACH,eAFD,MAEO,IAAIJ,OAAO,IAAIA,OAAO,CAACE,MAAR,CAAeC,MAAf,GAAwB,CAAvC,EAA0C;AAC7Cd,gBAAAA,KAAK,CAACgB,IAAN,iCAAoCL,OAAO,CAACM,SAAR,CAAkBH,MAAtD,cAAgEH,OAAO,CAACO,KAAxE;AACH;;AAVmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAD5B;AAAA;AAAA;;AAAA;AAAA,EAAmCnB,WAAnC","sourcesContent":["import { ToolbarItem } from \"./toolbarItem\";\nimport { toast } from \"react-toastify\";\n\n/**\n * @name - Export Project\n * @description - Toolbar item to export current project\n */\nexport class ExportProject extends ToolbarItem {\n    protected onItemClick = async () => {\n        const infoId = toast.info(`Started export for ${this.props.project.name}...`, { autoClose: false });\n        const results = await this.props.actions.exportProject(this.props.project);\n\n        toast.dismiss(infoId);\n\n        if (!results || (results && results.errors.length === 0)) {\n            toast.success(`Export completed successfully!`);\n        } else if (results && results.errors.length > 0) {\n            toast.warn(`Successfully exported ${results.completed.length}/${results.count} assets`);\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}