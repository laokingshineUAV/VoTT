{"ast":null,"code":"import _regeneratorRuntime from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/jw/Documents/code/VoTT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\n\nvar _dec,\n    _class,\n    _jsxFileName = \"/home/jw/Documents/code/VoTT/src/react/components/pages/appSettings/appSettingsPage.tsx\";\n\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as applicationActions from \"../../../../redux/actions/applicationActions\";\nimport \"./appSettingsPage.scss\";\nimport { strings } from \"../../../../common/strings\";\nimport { AppSettingsForm } from \"./appSettingsForm\";\nimport { toast } from \"react-toastify\";\nimport { appInfo } from \"../../../../common/appInfo\";\nimport { isElectron } from \"../../../../common/hostProcess\";\n/**\n * Props for App Settings Page\n * @member appSettings - Current Application settings\n * @member connections - Application connections\n * @member actions - Application actions\n */\n\n/**\n * State for App Settings Page\n * @member formSchema - JSON Form Schema for page\n * @member uiSchema - JSON Form UI Schema for page\n * @member appSettings - Application settings\n */\nfunction mapStateToProps(state) {\n  return {\n    appSettings: state.appSettings\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(applicationActions, dispatch)\n  };\n}\n/**\n * Page for viewing and editing application settings\n */\n\n\nvar AppSettingsPage = (_dec = connect(mapStateToProps, mapDispatchToProps), _dec(_class =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AppSettingsPage, _React$Component);\n\n  function AppSettingsPage(props) {\n    var _this;\n\n    _classCallCheck(this, AppSettingsPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AppSettingsPage).call(this, props));\n    _this.toggleDevTools =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.props.actions.toggleDevTools(!_this.props.appSettings.devToolsEnabled);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.reloadApp =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this.props.actions.reloadApplication();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    _this.toggleDevTools = _this.toggleDevTools.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.reloadApp = _this.reloadApp.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onFormSubmit = _this.onFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onFormCancel = _this.onFormCancel.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(AppSettingsPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"app-settings-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(AppSettingsForm, {\n        appSettings: this.props.appSettings,\n        onSubmit: this.onFormSubmit,\n        onCancel: this.onFormCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"app-settings-page-sidebar p-3 bg-lighter-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\".concat(strings.appSettings.version.description, \" \").concat(appInfo.version))), React.createElement(\"div\", {\n        className: \"my-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\".concat(strings.appSettings.commit, \": \"), \" \", process.env.REACT_APP_COMMIT_SHA)), isElectron() && React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"my-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, strings.appSettings.devTools.description), React.createElement(\"button\", {\n        id: \"toggleDevTools\",\n        className: \"btn btn-primary btn-sm\",\n        onClick: this.toggleDevTools,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, strings.appSettings.devTools.button)), React.createElement(\"div\", {\n        className: \"my-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, strings.appSettings.reload.description), React.createElement(\"button\", {\n        id: \"refreshApp\",\n        className: \"btn btn-primary btn-sm\",\n        onClick: this.reloadApp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, strings.appSettings.reload.button)))));\n    }\n  }, {\n    key: \"onFormSubmit\",\n    value: function () {\n      var _onFormSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(appSettings) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.props.actions.saveAppSettings(appSettings);\n\n              case 2:\n                toast.success(strings.appSettings.messages.saveSuccess);\n                this.props.history.goBack();\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function onFormSubmit(_x) {\n        return _onFormSubmit.apply(this, arguments);\n      }\n\n      return onFormSubmit;\n    }()\n  }, {\n    key: \"onFormCancel\",\n    value: function onFormCancel() {\n      this.props.history.goBack();\n    }\n  }]);\n\n  return AppSettingsPage;\n}(React.Component)) || _class);\nexport { AppSettingsPage as default };","map":{"version":3,"sources":["/home/jw/Documents/code/VoTT/src/react/components/pages/appSettings/appSettingsPage.tsx"],"names":["React","connect","bindActionCreators","applicationActions","strings","AppSettingsForm","toast","appInfo","isElectron","mapStateToProps","state","appSettings","mapDispatchToProps","dispatch","actions","AppSettingsPage","props","toggleDevTools","devToolsEnabled","reloadApp","reloadApplication","bind","onFormSubmit","onFormCancel","version","description","commit","process","env","REACT_APP_COMMIT_SHA","devTools","button","reload","saveAppSettings","success","messages","saveSuccess","history","goBack","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport IApplicationActions, * as applicationActions from \"../../../../redux/actions/applicationActions\";\nimport { IApplicationState, IAppSettings } from \"../../../../models/applicationState\";\nimport \"./appSettingsPage.scss\";\nimport { strings } from \"../../../../common/strings\";\nimport { AppSettingsForm } from \"./appSettingsForm\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { appInfo } from \"../../../../common/appInfo\";\nimport { isElectron } from \"../../../../common/hostProcess\";\n\n/**\n * Props for App Settings Page\n * @member appSettings - Current Application settings\n * @member connections - Application connections\n * @member actions - Application actions\n */\nexport interface IAppSettingsProps extends RouteComponentProps, React.Props<AppSettingsPage> {\n    appSettings: IAppSettings;\n    actions: IApplicationActions;\n}\n\n/**\n * State for App Settings Page\n * @member formSchema - JSON Form Schema for page\n * @member uiSchema - JSON Form UI Schema for page\n * @member appSettings - Application settings\n */\nfunction mapStateToProps(state: IApplicationState) {\n    return {\n        appSettings: state.appSettings,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators(applicationActions, dispatch),\n    };\n}\n\n/**\n * Page for viewing and editing application settings\n */\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class AppSettingsPage extends React.Component<IAppSettingsProps> {\n    constructor(props: IAppSettingsProps) {\n        super(props);\n\n        this.toggleDevTools = this.toggleDevTools.bind(this);\n        this.reloadApp = this.reloadApp.bind(this);\n        this.onFormSubmit = this.onFormSubmit.bind(this);\n        this.onFormCancel = this.onFormCancel.bind(this);\n    }\n\n    public render() {\n        return (\n            <div className=\"app-settings-page\">\n                <AppSettingsForm\n                    appSettings={this.props.appSettings}\n                    onSubmit={this.onFormSubmit}\n                    onCancel={this.onFormCancel} />\n                <div className=\"app-settings-page-sidebar p-3 bg-lighter-1\">\n                    <div className=\"my-3\">\n                        <p>{`${strings.appSettings.version.description} ${appInfo.version}`}</p>\n                    </div>\n                    <div className=\"my-3\">\n                        <p>{`${strings.appSettings.commit}: `} {process.env.REACT_APP_COMMIT_SHA}</p>\n                    </div>\n                    { isElectron() &&\n                    <span>\n                        <div className=\"my-3\">\n                            <p>{strings.appSettings.devTools.description}</p>\n                            <button id=\"toggleDevTools\" className=\"btn btn-primary btn-sm\"\n                                onClick={this.toggleDevTools}>{strings.appSettings.devTools.button}\n                            </button>\n                        </div>\n                        <div className=\"my-3\">\n                            <p>{strings.appSettings.reload.description}</p>\n                            <button id=\"refreshApp\" className=\"btn btn-primary btn-sm\"\n                                onClick={this.reloadApp}>{strings.appSettings.reload.button}\n                            </button>\n                        </div>\n                    </span>\n                    }\n                </div>\n            </div>\n        );\n    }\n\n    private async onFormSubmit(appSettings: IAppSettings) {\n        await this.props.actions.saveAppSettings(appSettings);\n        toast.success(strings.appSettings.messages.saveSuccess);\n        this.props.history.goBack();\n    }\n\n    private onFormCancel() {\n        this.props.history.goBack();\n    }\n\n    private toggleDevTools = async () => {\n        await this.props.actions.toggleDevTools(!this.props.appSettings.devToolsEnabled);\n    }\n\n    private reloadApp = async () => {\n        await this.props.actions.reloadApplication();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}