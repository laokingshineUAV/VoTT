{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nimport { HashCodeScoreGenerator } from './HashCodeScoreGenerator';\nimport { ContextTagKeys } from '@microsoft/applicationinsights-common';\n\nvar SamplingScoreGenerator =\n/** @class */\nfunction () {\n  function SamplingScoreGenerator() {\n    this.hashCodeGeneragor = new HashCodeScoreGenerator();\n  }\n\n  SamplingScoreGenerator.prototype.getSamplingScore = function (envelope) {\n    var tagKeys = new ContextTagKeys();\n    var score = 0;\n\n    if (envelope.tags[tagKeys.userId]) {\n      score = this.hashCodeGeneragor.getHashCodeScore(envelope.tags[tagKeys.userId]);\n    } else if (envelope.tags[tagKeys.operationId]) {\n      score = this.hashCodeGeneragor.getHashCodeScore(envelope.tags[tagKeys.operationId]);\n    } else {\n      // tslint:disable-next-line:insecure-random\n      score = Math.random();\n    }\n\n    return score;\n  };\n\n  return SamplingScoreGenerator;\n}();\n\nexport { SamplingScoreGenerator };","map":null,"metadata":{},"sourceType":"module"}