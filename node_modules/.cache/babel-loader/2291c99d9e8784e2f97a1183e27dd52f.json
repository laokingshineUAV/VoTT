{"ast":null,"code":"import * as tslib_1 from \"tslib\";\nimport { BaseRequestPolicy, generateUuid } from \"@azure/ms-rest-js\";\nimport { HeaderConstants } from \"../utils/constants\";\n/**\n * UniqueRequestIDPolicy generates an UUID as x-ms-request-id header value.\n *\n * @class UniqueRequestIDPolicy\n * @extends {BaseRequestPolicy}\n */\n\nvar UniqueRequestIDPolicy =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(UniqueRequestIDPolicy, _super);\n  /**\n   * Creates an instance of UniqueRequestIDPolicy.\n   * @param {RequestPolicy} nextPolicy\n   * @param {RequestPolicyOptions} options\n   * @memberof UniqueRequestIDPolicy\n   */\n\n\n  function UniqueRequestIDPolicy(nextPolicy, options) {\n    return _super.call(this, nextPolicy, options) || this;\n  }\n  /**\n   * Sends request.\n   *\n   * @param {WebResource} request\n   * @returns {Promise<HttpOperationResponse>}\n   * @memberof UniqueRequestIDPolicy\n   */\n\n\n  UniqueRequestIDPolicy.prototype.sendRequest = function (request) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        if (!request.headers.contains(HeaderConstants.X_MS_CLIENT_REQUEST_ID)) {\n          request.headers.set(HeaderConstants.X_MS_CLIENT_REQUEST_ID, generateUuid());\n        }\n\n        return [2\n        /*return*/\n        , this._nextPolicy.sendRequest(request)];\n      });\n    });\n  };\n\n  return UniqueRequestIDPolicy;\n}(BaseRequestPolicy);\n\nexport { UniqueRequestIDPolicy };","map":null,"metadata":{},"sourceType":"module"}